# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`pubkey`](#pubkey): Common configuration

### Defined types

#### Public Defined types

* [`pubkey::ssh`](#pubkey--ssh): Generate ssh key pair and exports public ssh key

#### Private Defined types

* `pubkey::keygen`: Internal class to validate detected parameters

### Data types

* [`Pubkey::Type`](#Pubkey--Type): Supported ssh key types

## Classes

### <a name="pubkey"></a>`pubkey`

Common configuration

#### Examples

##### 

```puppet
include pubkey
```

#### Parameters

The following parameters are available in the `pubkey` class:

* [`cache_owner`](#-pubkey--cache_owner)
* [`cache_group`](#-pubkey--cache_group)
* [`export_keys`](#-pubkey--export_keys)

##### <a name="-pubkey--cache_owner"></a>`cache_owner`

Data type: `String`

Owner of the cache directory

##### <a name="-pubkey--cache_group"></a>`cache_group`

Data type: `String`

Group of the cache directory

##### <a name="-pubkey--export_keys"></a>`export_keys`

Data type: `Boolean`

Whether manage directory for exported keys. Note in order to disable
pubkey::ssh::export_key should be set to `false` on each key.

## Defined types

### <a name="pubkey--ssh"></a>`pubkey::ssh`

Exports public ssh key to Puppetserver

#### Examples

##### 

```puppet
pubkey::ssh { 'john_rsa': }
```

##### 

```puppet
pubkey::ssh { 'johndoe':
  type    => 'ed25519',
  comment => 'johndoe_ed25519',
  tags    => ['users'],
}
```

##### 

```puppet
pubkey::ssh { 'bob_ed25519':
  user        => 'bob', # auto-detected from title
  target_user => 'deploy', # user account under which authorized key will be stored
  tags        => ['users'],
}
```

#### Parameters

The following parameters are available in the `pubkey::ssh` defined type:

* [`generate`](#-pubkey--ssh--generate)
* [`user`](#-pubkey--ssh--user)
* [`target_user`](#-pubkey--ssh--target_user)
* [`type`](#-pubkey--ssh--type)
* [`home`](#-pubkey--ssh--home)
* [`prefix`](#-pubkey--ssh--prefix)
* [`comment`](#-pubkey--ssh--comment)
* [`size`](#-pubkey--ssh--size)
* [`tags`](#-pubkey--ssh--tags)
* [`export_key`](#-pubkey--ssh--export_key)
* [`path`](#-pubkey--ssh--path)
* [`hostname`](#-pubkey--ssh--hostname)
* [`separator`](#-pubkey--ssh--separator)

##### <a name="-pubkey--ssh--generate"></a>`generate`

Data type: `Boolean`

Whether missing key should be generated

Default value: `true`

##### <a name="-pubkey--ssh--user"></a>`user`

Data type: `Optional[String[1]]`

account name where ssh key is (optionally) generated and public key stored into exported resource

Default value: `undef`

##### <a name="-pubkey--ssh--target_user"></a>`target_user`

Data type: `Optional[String[1]]`

account name under which we will store the authorized key (by default same as `user`)

Default value: `undef`

##### <a name="-pubkey--ssh--type"></a>`type`

Data type: `Optional[Pubkey::Type]`

ssh key type one of: 'dsa', 'rsa', 'ecdsa', 'ed25519', 'ecdsa-sk', 'ed25519-sk'

Default value: `undef`

##### <a name="-pubkey--ssh--home"></a>`home`

Data type: `Optional[Stdlib::UnixPath]`

user's home directory, assuming .ssh is located in $HOME/.ssh

Default value: `undef`

##### <a name="-pubkey--ssh--prefix"></a>`prefix`

Data type: `Optional[String[1]]`

custom key file prefix for the ssh key file (default: 'id')

Default value: `undef`

##### <a name="-pubkey--ssh--comment"></a>`comment`

Data type: `Optional[String[1]]`

ssh key's comment

Default value: `undef`

##### <a name="-pubkey--ssh--size"></a>`size`

Data type: `Optional[Integer]`

number of bits for generated ssh key

Default value: `undef`

##### <a name="-pubkey--ssh--tags"></a>`tags`

Data type: `Optional[Array[String]]`

optional tags added to the exported key

Default value: `undef`

##### <a name="-pubkey--ssh--export_key"></a>`export_key`

Data type: `Boolean`

whether export the generated key (default: true)

Default value: `true`

##### <a name="-pubkey--ssh--path"></a>`path`

Data type: `Stdlib::AbsolutePath`

standard unix path to look for ssh-keygen

Default value: `$facts['path']`

##### <a name="-pubkey--ssh--hostname"></a>`hostname`

Data type: `String`

that will be part of exported resource

Default value: `$facts['networking']['fqdn']`

##### <a name="-pubkey--ssh--separator"></a>`separator`

Data type: `String[1]`

A character for user and type auto-detection (default: '_')

Default value: `'_'`

## Data types

### <a name="Pubkey--Type"></a>`Pubkey::Type`

Supported ssh key types

Alias of `Enum['dsa', 'rsa', 'ecdsa', 'ed25519', 'ecdsa-sk', 'ed25519-sk']`

